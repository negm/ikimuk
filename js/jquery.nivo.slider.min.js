(function(a){var b=function(k,p){var c=a.extend({},a.fn.nivoSlider.defaults,p),b={currentSlide:0,currentImage:"",totalSlides:0,running:false,paused:false,stop:false,controlNavEl:false},d=a(k);d.data("nivo:vars",b).addClass("nivoSlider");var e=d.children();e.each(function(){var c=a(this),d="";if(!c.is("img")){if(c.is("a")){c.addClass("nivo-imageLink");d=c}c=c.find("img:first")}var f=f===0?c.attr("width"):c.width(),e=e===0?c.attr("height"):c.height();d!==""&&d.css("display","none");c.css("display","none");b.totalSlides++});if(c.randomStart)c.startSlide=Math.floor(Math.random()*b.totalSlides);if(c.startSlide>0){if(c.startSlide>=b.totalSlides)c.startSlide=b.totalSlides-1;b.currentSlide=c.startSlide}if(a(e[b.currentSlide]).is("img"))b.currentImage=a(e[b.currentSlide]);else b.currentImage=a(e[b.currentSlide]).find("img:first");a(e[b.currentSlide]).is("a")&&a(e[b.currentSlide]).css("display","block");var g=a('<img class="nivo-main-image" src="#" />');g.attr("src",b.currentImage.attr("src")).show();d.append(g);a(window).resize(function(){d.children("img").width(d.width());g.attr("src",b.currentImage.attr("src"));g.stop().height("auto");a(".nivo-slice").remove();a(".nivo-box").remove()});d.append(a('<div class="nivo-caption"></div>'));var m=function(f){var c=a(".nivo-caption",d);if(b.currentImage.attr("title")!=""&&b.currentImage.attr("title")!=undefined){var e=b.currentImage.attr("title");if(e.substr(0,1)=="#")e=a(e).html();if(c.css("display")=="block")setTimeout(function(){c.html(e)},f.animSpeed);else{c.html(e);c.stop().fadeIn(f.animSpeed)}}else c.stop().fadeOut(f.animSpeed)};m(c);var f=0;if(!c.manualAdvance&&e.length>1)f=setInterval(function(){i(d,e,c,false)},c.pauseTime);if(c.directionNav){d.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+c.prevText+'</a><a class="nivo-nextNav">'+c.nextText+"</a></div>");a("a.nivo-prevNav",d).live("click",function(){if(b.running)return false;clearInterval(f);f="";b.currentSlide-=2;i(d,e,c,"prev")});a("a.nivo-nextNav",d).live("click",function(){if(b.running)return false;clearInterval(f);f="";i(d,e,c,"next")})}if(c.controlNav){b.controlNavEl=a('<div class="nivo-controlNav"></div>');d.after(b.controlNavEl);for(var j=0;j<e.length;j++)if(c.controlNavThumbs){b.controlNavEl.addClass("nivo-thumbs-enabled");var l=e.eq(j);if(!l.is("img"))l=l.find("img:first");l.attr("data-thumb")&&b.controlNavEl.append('<a class="nivo-control" rel="'+j+'"><img src="'+l.attr("data-thumb")+'" alt="" /></a>')}else b.controlNavEl.append('<a class="nivo-control" rel="'+j+'">'+(j+1)+"</a>");a("a:eq("+b.currentSlide+")",b.controlNavEl).addClass("active");a("a",b.controlNavEl).bind("click",function(){if(b.running)return false;if(a(this).hasClass("active"))return false;clearInterval(f);f="";g.attr("src",b.currentImage.attr("src"));b.currentSlide=a(this).attr("rel")-1;i(d,e,c,"control")})}c.pauseOnHover&&d.hover(function(){b.paused=true;clearInterval(f);f=""},function(){b.paused=false;if(f===""&&!c.manualAdvance)f=setInterval(function(){i(d,e,c,false)},c.pauseTime)});d.bind("nivo:animFinished",function(){g.attr("src",b.currentImage.attr("src"));b.running=false;a(e).each(function(){a(this).is("a")&&a(this).css("display","none")});a(e[b.currentSlide]).is("a")&&a(e[b.currentSlide]).css("display","block");if(f===""&&!b.paused&&!c.manualAdvance)f=setInterval(function(){i(d,e,c,false)},c.pauseTime);c.afterChange.call(this)});var h=function(b,f,e){a(e.currentImage).parent().is("a")&&a(e.currentImage).parent().css("display","block");a('img[src="'+e.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").width(b.width()).css("visibility","hidden").show();for(var h=a('img[src="'+e.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").parent().is("a")?a('img[src="'+e.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").parent().height():a('img[src="'+e.currentImage.attr("src")+'"]',b).not(".nivo-main-image,.nivo-control img").height(),d=0;d<f.slices;d++){var c=Math.round(b.width()/f.slices);if(d===f.slices-1)b.append(a('<div class="nivo-slice" name="'+d+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+b.width()+"px; height:auto; display:block !important; top:0; left:-"+(c+d*c-c)+'px;" /></div>').css({left:c*d+"px",width:b.width()-c*d+"px",height:h+"px",opacity:"0",overflow:"hidden"}));else b.append(a('<div class="nivo-slice" name="'+d+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+b.width()+"px; height:auto; display:block !important; top:0; left:-"+(c+d*c-c)+'px;" /></div>').css({left:c*d+"px",width:c+"px",height:h+"px",opacity:"0",overflow:"hidden"}))}a(".nivo-slice",b).height(h);g.stop().animate({height:a(e.currentImage).height()},f.animSpeed)},n=function(c,h,e){a(e.currentImage).parent().is("a")&&a(e.currentImage).parent().css("display","block");a('img[src="'+e.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").width(c.width()).css("visibility","hidden").show();for(var f=Math.round(c.width()/h.boxCols),i=Math.round(a('img[src="'+e.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").height()/h.boxRows),d=0;d<h.boxRows;d++)for(var b=0;b<h.boxCols;b++)if(b===h.boxCols-1){c.append(a('<div class="nivo-box" name="'+b+'" rel="'+d+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block; top:-"+i*d+"px; left:-"+f*b+'px;" /></div>').css({opacity:0,left:f*b+"px",top:i*d+"px",width:c.width()-f*b+"px"}));a('.nivo-box[name="'+b+'"]',c).height(a('.nivo-box[name="'+b+'"] img',c).height()+"px")}else{c.append(a('<div class="nivo-box" name="'+b+'" rel="'+d+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block; top:-"+i*d+"px; left:-"+f*b+'px;" /></div>').css({opacity:0,left:f*b+"px",top:i*d+"px",width:f+"px"}));a('.nivo-box[name="'+b+'"]',c).height(a('.nivo-box[name="'+b+'"] img',c).height()+"px")}g.stop().animate({height:a(e.currentImage).height()},h.animSpeed)},i=function(c,x,b,v){var d=c.data("nivo:vars");d&&d.currentSlide===d.totalSlides-1&&b.lastSlide.call(this);if((!d||d.stop)&&!v)return false;b.beforeChange.call(this);if(!v)g.attr("src",d.currentImage.attr("src"));else{v==="prev"&&g.attr("src",d.currentImage.attr("src"));v==="next"&&g.attr("src",d.currentImage.attr("src"))}d.currentSlide++;if(d.currentSlide===d.totalSlides){d.currentSlide=0;b.slideshowEnd.call(this)}if(d.currentSlide<0)d.currentSlide=d.totalSlides-1;if(a(x[d.currentSlide]).is("img"))d.currentImage=a(x[d.currentSlide]);else d.currentImage=a(x[d.currentSlide]).find("img:first");if(b.controlNav){a("a",d.controlNavEl).removeClass("active");a("a:eq("+d.currentSlide+")",d.controlNavEl).addClass("active")}m(b);a(".nivo-slice",c).remove();a(".nivo-box",c).remove();var e=b.effect,l="";if(b.effect==="random"){l=["sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"];e=l[Math.floor(Math.random()*(l.length+1))];if(e===undefined)e="fade"}if(b.effect.indexOf(",")!==-1){l=b.effect.split(",");e=l[Math.floor(Math.random()*l.length)];if(e===undefined)e="fade"}if(d.currentImage.attr("data-transition"))e=d.currentImage.attr("data-transition");d.running=true;var f=0,i=0,k="",j="",p="",o="";if(e==="sliceDown"||e==="sliceDownRight"||e==="sliceDownLeft"){h(c,b,d);f=0;i=0;k=a(".nivo-slice",c);if(e==="sliceDownLeft")k=a(".nivo-slice",c)._reverse();k.each(function(){var d=a(this);d.css({top:"0px"});if(i===b.slices-1)setTimeout(function(){d.animate({opacity:"1.0"},b.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+f);else setTimeout(function(){d.animate({opacity:"1.0"},b.animSpeed)},100+f);f+=50;i++})}else if(e==="sliceUp"||e==="sliceUpRight"||e==="sliceUpLeft"){h(c,b,d);f=0;i=0;k=a(".nivo-slice",c);if(e==="sliceUpLeft")k=a(".nivo-slice",c)._reverse();k.each(function(){var d=a(this);d.css({bottom:"0px"});if(i===b.slices-1)setTimeout(function(){d.animate({opacity:"1.0"},b.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+f);else setTimeout(function(){d.animate({opacity:"1.0"},b.animSpeed)},100+f);f+=50;i++})}else if(e==="sliceUpDown"||e==="sliceUpDownRight"||e==="sliceUpDownLeft"){h(c,b,d);f=0;i=0;var z=0;k=a(".nivo-slice",c);if(e==="sliceUpDownLeft")k=a(".nivo-slice",c)._reverse();k.each(function(){var d=a(this);if(i===0){d.css("top","0px");i++}else{d.css("bottom","0px");i=0}if(z===b.slices-1)setTimeout(function(){d.animate({opacity:"1.0"},b.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+f);else setTimeout(function(){d.animate({opacity:"1.0"},b.animSpeed)},100+f);f+=50;z++})}else if(e==="fold"){h(c,b,d);f=0;i=0;a(".nivo-slice",c).each(function(){var d=a(this),e=d.width();d.css({top:"0px",width:"0px"});if(i===b.slices-1)setTimeout(function(){d.animate({width:e,opacity:"1.0"},b.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+f);else setTimeout(function(){d.animate({width:e,opacity:"1.0"},b.animSpeed)},100+f);f+=50;i++})}else if(e==="fade"){h(c,b,d);j=a(".nivo-slice:first",c);j.css({width:c.width()+"px"});j.animate({opacity:"1.0"},b.animSpeed*2,"",function(){c.trigger("nivo:animFinished")})}else if(e==="slideInRight"){h(c,b,d);j=a(".nivo-slice:first",c);j.css({width:"0px",opacity:"1"});j.animate({width:c.width()+"px"},b.animSpeed*2,"",function(){c.trigger("nivo:animFinished")})}else if(e==="slideInLeft"){h(c,b,d);j=a(".nivo-slice:first",c);j.css({width:"0px",opacity:"1",left:"",right:"0px"});j.animate({width:c.width()+"px"},b.animSpeed*2,"",function(){j.css({left:"0px",right:""});c.trigger("nivo:animFinished")})}else if(e==="boxRandom"){n(c,b,d);p=b.boxCols*b.boxRows;i=0;f=0;o=q(a(".nivo-box",c));o.each(function(){var d=a(this);if(i===p-1)setTimeout(function(){d.animate({opacity:"1"},b.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+f);else setTimeout(function(){d.animate({opacity:"1"},b.animSpeed)},100+f);f+=20;i++})}else if(e==="boxRain"||e==="boxRainReverse"||e==="boxRainGrow"||e==="boxRainGrowReverse"){n(c,b,d);p=b.boxCols*b.boxRows;i=0;f=0;var t=0,s=0,r=[];r[t]=[];o=a(".nivo-box",c);if(e==="boxRainReverse"||e==="boxRainGrowReverse")o=a(".nivo-box",c)._reverse();o.each(function(){r[t][s]=a(this);s++;if(s===b.boxCols){t++;s=0;r[t]=[]}});for(var w=0;w<b.boxCols*2;w++){for(var u=w,y=0;y<b.boxRows;y++){if(u>=0&&u<b.boxCols){(function(k,j,f,l,i){var d=a(r[k][j]),h=d.width(),g=d.height();(e==="boxRainGrow"||e==="boxRainGrowReverse")&&d.width(0).height(0);if(l===i-1)setTimeout(function(){d.animate({opacity:"1",width:h,height:g},b.animSpeed/1.3,"",function(){c.trigger("nivo:animFinished")})},100+f);else setTimeout(function(){d.animate({opacity:"1",width:h,height:g},b.animSpeed/1.3)},100+f)})(y,u,f,i,p);i++}u--}f+=100}}},q=function(a){for(var c,d,b=a.length;b;c=parseInt(Math.random()*b,10),d=a[--b],a[b]=a[c],a[c]=d);return a},o=function(a){this.console&&typeof console.log!=="undefined"&&console.log(a)};this.stop=function(){if(!a(k).data("nivo:vars").stop){a(k).data("nivo:vars").stop=true;o("Stop Slider")}};this.start=function(){if(a(k).data("nivo:vars").stop){a(k).data("nivo:vars").stop=false;o("Start Slider")}};c.afterLoad.call(this);return this};a.fn.nivoSlider=function(c){return this.each(function(){var d=a(this);if(d.data("nivoslider"))return d.data("nivoslider");var e=new b(this,c);d.data("nivoslider",e)})};a.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:true,controlNav:true,controlNavThumbs:false,pauseOnHover:true,manualAdvance:false,prevText:"Prev",nextText:"Next",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};a.fn._reverse=[].reverse})(jQuery)